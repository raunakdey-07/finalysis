{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { AutocompleteDropdown } from 'react-native-autocomplete-dropdown';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    query = _useState2[0],\n    setQuery = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    suggestions = _useState4[0],\n    setSuggestions = _useState4[1];\n  var fetchSuggestions = function () {\n    var _ref2 = _asyncToGenerator(function* (q) {\n      if (!q || q.length < 1) {\n        setSuggestions([]);\n        return;\n      }\n      try {\n        var res = yield fetch(\"/.netlify/functions/searchStocks?q=\" + encodeURIComponent(q));\n        var data = yield res.json();\n        setSuggestions(data);\n      } catch (e) {\n        setSuggestions([]);\n      }\n    });\n    return function fetchSuggestions(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(AutocompleteDropdown, {\n      suggestionsListMaxHeight: 120,\n      dataSet: suggestions,\n      onChangeText: function onChangeText(txt) {\n        setQuery(txt);\n        fetchSuggestions(txt);\n      },\n      onSelectItem: function onSelectItem(item) {\n        if (!item) return;\n        navigation.replace('Report', {\n          ticker: item.id\n        });\n      },\n      textInputProps: {\n        placeholder: 'Search ticker…',\n        placeholderTextColor: '#888',\n        style: styles.input\n      },\n      containerStyle: styles.dropdownContainer\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    backgroundColor: '#121212',\n    padding: 16\n  },\n  dropdownContainer: {\n    backgroundColor: '#1f1f1f',\n    borderRadius: 8\n  },\n  input: {\n    color: '#fff',\n    padding: 12,\n    fontSize: 18\n  }\n});","map":{"version":3,"names":["React","useState","View","StyleSheet","AutocompleteDropdown","jsx","_jsx","HomeScreen","_ref","navigation","_useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","suggestions","setSuggestions","fetchSuggestions","_ref2","_asyncToGenerator","q","length","res","fetch","encodeURIComponent","data","json","e","_x","apply","arguments","style","styles","container","children","suggestionsListMaxHeight","dataSet","onChangeText","txt","onSelectItem","item","replace","ticker","id","textInputProps","placeholder","placeholderTextColor","input","containerStyle","dropdownContainer","create","flex","justifyContent","backgroundColor","padding","borderRadius","color","fontSize"],"sources":["C:/Users/rauna/Project Finalysis/screens/HomeScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, StyleSheet } from 'react-native';\r\nimport { AutocompleteDropdown } from 'react-native-autocomplete-dropdown';\r\n\r\nexport default function HomeScreen({ navigation }) {\r\n  const [query, setQuery] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n\r\n  const fetchSuggestions = async (q) => {\r\n    if (!q || q.length < 1) {\r\n      setSuggestions([]);\r\n      return;\r\n    }\r\n    try {\r\n      const res = await fetch(`/.netlify/functions/searchStocks?q=${encodeURIComponent(q)}`);\r\n      const data = await res.json();\r\n      setSuggestions(data);\r\n    } catch (e) {\r\n      setSuggestions([]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <AutocompleteDropdown\r\n        suggestionsListMaxHeight={120}\r\n        dataSet={suggestions}\r\n        onChangeText={txt => {\r\n          setQuery(txt);\r\n          fetchSuggestions(txt);\r\n        }}\r\n        onSelectItem={item => {\r\n          if (!item) return;\r\n          navigation.replace('Report', { ticker: item.id });\r\n        }}\r\n        textInputProps={{\r\n          placeholder: 'Search ticker…',\r\n          placeholderTextColor: '#888',\r\n          style: styles.input\r\n        }}\r\n        containerStyle={styles.dropdownContainer}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    backgroundColor: '#121212',\r\n    padding: 16\r\n  },\r\n  dropdownContainer: {\r\n    backgroundColor: '#1f1f1f',\r\n    borderRadius: 8\r\n  },\r\n  input: {\r\n    color: '#fff',\r\n    padding: 12,\r\n    fontSize: 18\r\n  }\r\n});"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAExC,SAASC,oBAAoB,QAAQ,oCAAoC;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAE1E,eAAe,SAASC,UAAUA,CAAAC,IAAA,EAAiB;EAAA,IAAdC,UAAU,GAAAD,IAAA,CAAVC,UAAU;EAC7C,IAAAC,SAAA,GAA0BT,QAAQ,CAAC,EAAE,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/BG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAAI,UAAA,GAAsCd,QAAQ,CAAC,EAAE,CAAC;IAAAe,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA3CE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAElC,IAAMG,gBAAgB;IAAA,IAAAC,KAAA,GAAAC,iBAAA,CAAG,WAAOC,CAAC,EAAK;MACpC,IAAI,CAACA,CAAC,IAAIA,CAAC,CAACC,MAAM,GAAG,CAAC,EAAE;QACtBL,cAAc,CAAC,EAAE,CAAC;QAClB;MACF;MACA,IAAI;QACF,IAAMM,GAAG,SAASC,KAAK,yCAAuCC,kBAAkB,CAACJ,CAAC,CAAG,CAAC;QACtF,IAAMK,IAAI,SAASH,GAAG,CAACI,IAAI,CAAC,CAAC;QAC7BV,cAAc,CAACS,IAAI,CAAC;MACtB,CAAC,CAAC,OAAOE,CAAC,EAAE;QACVX,cAAc,CAAC,EAAE,CAAC;MACpB;IACF,CAAC;IAAA,gBAZKC,gBAAgBA,CAAAW,EAAA;MAAA,OAAAV,KAAA,CAAAW,KAAA,OAAAC,SAAA;IAAA;EAAA,GAYrB;EAED,OACE1B,IAAA,CAACJ,IAAI;IAAC+B,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,EAC5B9B,IAAA,CAACF,oBAAoB;MACnBiC,wBAAwB,EAAE,GAAI;MAC9BC,OAAO,EAAErB,WAAY;MACrBsB,YAAY,EAAE,SAAdA,YAAYA,CAAEC,GAAG,EAAI;QACnB1B,QAAQ,CAAC0B,GAAG,CAAC;QACbrB,gBAAgB,CAACqB,GAAG,CAAC;MACvB,CAAE;MACFC,YAAY,EAAE,SAAdA,YAAYA,CAAEC,IAAI,EAAI;QACpB,IAAI,CAACA,IAAI,EAAE;QACXjC,UAAU,CAACkC,OAAO,CAAC,QAAQ,EAAE;UAAEC,MAAM,EAAEF,IAAI,CAACG;QAAG,CAAC,CAAC;MACnD,CAAE;MACFC,cAAc,EAAE;QACdC,WAAW,EAAE,gBAAgB;QAC7BC,oBAAoB,EAAE,MAAM;QAC5Bf,KAAK,EAAEC,MAAM,CAACe;MAChB,CAAE;MACFC,cAAc,EAAEhB,MAAM,CAACiB;IAAkB,CAC1C;EAAC,CACE,CAAC;AAEX;AAEA,IAAMjB,MAAM,GAAG/B,UAAU,CAACiD,MAAM,CAAC;EAC/BjB,SAAS,EAAE;IACTkB,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,eAAe,EAAE,SAAS;IAC1BC,OAAO,EAAE;EACX,CAAC;EACDL,iBAAiB,EAAE;IACjBI,eAAe,EAAE,SAAS;IAC1BE,YAAY,EAAE;EAChB,CAAC;EACDR,KAAK,EAAE;IACLS,KAAK,EAAE,MAAM;IACbF,OAAO,EAAE,EAAE;IACXG,QAAQ,EAAE;EACZ;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}